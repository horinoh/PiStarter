'CONST #GRP_POLY_PAGE=3
'CONST #GRP_POLY_WIDTH=128
'CONST #GRP_POLY_HEIGHT=128
'CONST #GRP_PPOLY_MARGIN=1
'COMMON DEF GRP_POLY_PAGE() RETURN #GRP_POLY_PAGE END
'COMMON DEF GRP_POLY_WIDTH() RETURN #GRP_POLY_WIDTH END
'COMMON DEF GRP_POLY_HEIGHT() RETURN #GRP_POLY_HEIGHT END
'COMMON DEF GRP_POLT_MARGIN() RETURN #GRP_PPOLY_MARGIN END
COMMON DEF GRP_POLY_PAGE() RETURN 3 END
COMMON DEF GRP_POLY_WIDTH() RETURN 128 END
COMMON DEF GRP_POLY_HEIGHT() RETURN 128 END
COMMON DEF GRP_POLT_MARGIN() RETURN 1 END

'COMMON DEF GRP_GET_POLY_ROW(I%) RETURN I% DIV (#GRPWIDTH DIV GRP_GET_POLY_WIDTH()) END
'COMMON DEF GRP_GET_POLY_COLUMN(I%) RETURN I% MOD (#GRPWIDTH DIV GRP_GET_POLY_WIDTH()) END
COMMON DEF GRP_GET_POLY_ROW(I%) RETURN I% DIV (1280 DIV GRP_GET_POLY_WIDTH()) END
COMMON DEF GRP_GET_POLY_COLUMN(I%) RETURN I% MOD (1280 DIV GRP_GET_POLY_WIDTH()) END

COMMON DEF GRP_DRAW_TRIANGLES PG%,W%,H%,MGN%,COL%
 'GTARGET PG%
 GPAGE PG%,PG%
 'VAR WMGN%=GRP_GET_POLY_WIDTH()-MGN%
 'VAR HMGN%=GRP_GET_POLY_HEIGHT()-MGN%
 VAR WMGN%=GRP_GET_POLY_WIDTH-MGN%
 VAR HMGN%=GRP_GET_POLY_HEIGHT-MGN%
 VAR I%
 'FOR I%=0 TO GRP_GET_POLY_WIDTH()-1-MGN%
 FOR I%=0 TO GRP_GET_POLY_WIDTH-1-MGN%
  'VAR OFX%=GRP_GET_POLY_COLUMN(I%)*GRP_GET_POLY_WIDTH()
  'VAR OFY%=GRP_GET_POLY_ROW(I%)*GRP_GET_POLY_HEIGHT()
  VAR OFX%=GRP_GET_POLY_COLUMN(I%)*GRP_GET_POLY_WIDTH
  VAR OFY%=GRP_GET_POLY_ROW(I%)*GRP_GET_POLY_HEIGHT
  GTRI OFX%+I%,OFX%,FOY%+HMNG%, FOX%+WMGN%,OFY%+HMGN%,COL%
 NEXT
END

