'CONST #GRP_POLY_PAGE=3
'CONST #GRP_POLY_WIDTH=32
'CONST #GRP_POLY_HEIGHT=32
'CONST #GRP_PPOLY_MARGIN=1
'COMMON DEF GRP_POLY_PAGE() RETURN #GRP_POLY_PAGE END
'COMMON DEF GRP_POLY_WIDTH() RETURN #GRP_POLY_WIDTH END
'COMMON DEF GRP_POLY_HEIGHT() RETURN #GRP_POLY_HEIGHT END
'COMMON DEF GRP_POLY_MARGIN() RETURN #GRP_PPOLY_MARGIN END
COMMON DEF GRP_POLY_PAGE() RETURN 3 END
COMMON DEF GRP_POLY_WIDTH() RETURN 32 END
COMMON DEF GRP_POLY_HEIGHT() RETURN 32 END
COMMON DEF GRP_POLY_MARGIN() RETURN 1 END

'COMMON DEF GRP_POLY_ROW(I%) RETURN I% DIV (#GRPWIDTH DIV GRP_POLY_WIDTH()) END
'COMMON DEF GRP_POLY_COLUMN(I%) RETURN I% MOD (#GRPWIDTH DIV GRP_POLY_WIDTH()) END
COMMON DEF GRP_POLY_ROW(I%) RETURN I% DIV (640 DIV GRP_POLY_WIDTH()) END
COMMON DEF GRP_POLY_COLUMN(I%) RETURN I% MOD (640 DIV GRP_POLY_WIDTH()) END

COMMON DEF GRP_DRAW_TRIANGLES PG%,W%,H%,MGN%,COL%
 'GTARGET PG%
 GPAGE 0,PG%

 GCLS

 VAR WMGN%=W%-MGN%
 VAR HMGN%=H%-MGN%
 VAR I%
 FOR I%=0 TO WMGN%-1
  VAR OFX%=GRP_POLY_COLUMN(I%)*GRP_POLY_WIDTH()
  VAR OFY%=GRP_POLY_ROW(I%)*GRP_POLY_HEIGHT()
  GTRI OFX%+I%,OFY%, OFX%,OFY%+HMGN%, OFX%+WMGN%,OFY%+HMGN%, COL%
 NEXT
END

