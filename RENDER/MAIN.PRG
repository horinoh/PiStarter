OPTION STRICT

'LOAD "../MATH/MATH.PRG",1:EXEC 1
LOAD "PRG1:../MATH/MATH.PRG":EXEC 1

'LOAD "RENDER.PRG",2:EXEC 2
LOAD "PRG2:RENDER.PRG":EXEC 2

DEF MAIN
 ACLS

 'DEFAULT == 640X360
 'XSCREEN 1280,720

 GRP_DRAW_TRIANGLES GRP_POLY_PAGE(),GRP_POLY_WIDTH(),GRP_POLY_HEIGHT(),GRP_POLY_MARGIN(),RGB(127,127,127)
 'GPAGE GRP_POLY_PAGE(),0
 'SAVE "GRP3:TRI.PNG"

 SPPOLY_SETUP

 GPAGE 0,0

VAR M%=16,N%=16
 VAR IB%[0]
 SPPOLY_INDEX_BUFFER IB%,M%,N%
 '?"IB="
 'VAR I%:FOR I%=0 TO LEN(IB%)-1 ?IB%[I%] NEXT 

 'VAR FUNC$="SPPOLY_SPHERE"
 VAR FUNC$="SPPOLY_TORUS"
 VAR VB[0]
 SPPOLY_VERTEX_BUFFER VB,M%,N%,FUNC$
 'VAR I%:FOR I%=0 TO LEN(VB)-1 STEP 3 GPSET VB[I%]*100+320,VB[I%+1]*100+180,#WHITE NEXT

 'VAR NB[0]
 'SPPOLY_NORMAL_BUFFER NB,M%,N%,FUNC$
 '?"NB="
 'VAR I%:FOR I%=0 TO LEN(NB)-1 ?NB[I%] NEXT 

 SPPOLY_DRAW_INDEXED IB%,VB

 'SPPOLY_CLEAR
 
 CALL SPRITE
END

MAIN

